<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Agora v2.1</title>
    <link rel="icon" href="images/project-agora.ico" type="image/x-icon">
    <style>
        :root {
            /* Light Theme Palette - Turquoise */
            --bg-light: #f8f9fa;
            --text-light: #212529;
            --card-bg-light: #ffffff;
            --border-light: #dee2e6;
            --accent-light: #20c997; /* Main Turquoise */
            --header-bg-light: rgba(248, 249, 250, 0.85);
            --accent-light-transparent: rgba(32, 201, 151, 0.3);

            /* Dark Theme Palette - Turquoise */
            --bg-dark: #202124;
            --text-dark: #e8eaed;
            --card-bg-dark: #2d2e30;
            --border-dark: #4d4e50;
            --accent-dark: #66fcf1;  /* Lighter Turquoise for contrast */
            --header-bg-dark: rgba(32, 33, 36, 0.85);
            --accent-dark-transparent: rgba(102, 252, 241, 0.3);
            
            /* Specific Blue for Concordia Sister Card */
            --concordia-blue-light: #1a73e8;
            --concordia-blue-dark: #8ab4f8;

            --shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        html { scroll-behavior: smooth; }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            margin: 0;
            padding: 0;
            transition: background-color 0.3s, color 0.3s;
        }

        .light-theme { background-color: var(--bg-light); color: var(--text-light); }
        .dark-theme { background-color: var(--bg-dark); color: var(--text-dark); }

        .container { max-width: 1200px; margin: 0 auto; padding: 2rem; }

        header {
            display: flex; justify-content: space-between; align-items: center;
            padding: 1rem 2rem; position: sticky; top: 0; z-index: 1000;
            backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
            border-bottom: 1px solid;
        }
        .light-theme header { background-color: var(--header-bg-light); border-color: var(--border-light); }
        .dark-theme header { background-color: var(--header-bg-dark); border-color: var(--border-dark); }

        .title-version h1 { margin: 0; font-size: 1.5rem; }
        .title-version span {
            font-size: 0.9rem; opacity: 0.8; font-weight: 500;
            margin-left: 8px; padding: 2px 6px; border-radius: 4px;
        }
        .light-theme .title-version span { background-color: #e0f8f0; color: var(--accent-light); }
        .dark-theme .title-version span { background-color: #3c4043; color: var(--accent-dark); }

        .theme-switch-wrapper { display: flex; align-items: center; }
        .theme-switch { display: inline-block; height: 24px; position: relative; width: 48px; }
        .theme-switch input { display:none; }
        .slider {
            background-color: #ccc; bottom: 0; cursor: pointer; left: 0;
            position: absolute; right: 0; top: 0; transition: .4s; border-radius: 24px;
        }
        .slider:before {
            background-color: #fff; bottom: 4px; content: ""; height: 16px; left: 4px;
            position: absolute; transition: .4s; width: 16px; border-radius: 50%;
        }
        input:checked + .slider { background-color: var(--accent-light); }
        .dark-theme input:checked + .slider { background-color: var(--accent-dark); }
        input:checked + .slider:before { transform: translateX(24px); }

        .hero { text-align: center; padding: 4rem 1rem; }
        .hero-logo { max-width: 250px; height: auto; margin-bottom: 2rem; filter: drop-shadow(0 0 15px var(--accent-dark-transparent)); }
        .hero h2 { font-size: 2.5rem; margin-bottom: 1rem; font-weight: 600; }
        .hero h2 span { display: block; font-size: 3.5rem; margin-bottom: -1rem; letter-spacing: 2px; font-weight: 700;
            background: -webkit-linear-gradient(45deg, var(--accent-dark), var(--accent-light));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .hero p { max-width: 800px; margin: 0 auto 2rem auto; font-size: 1.1rem; line-height: 1.6; opacity: 0.8; }
        .hero-buttons { display: flex; justify-content: center; gap: 1rem; flex-wrap: wrap; }
        
        .btn {
            padding: 12px 24px; text-decoration: none; border-radius: 8px; font-weight: 600;
            transition: transform 0.2s, box-shadow 0.2s; display: inline-block; text-align: center;
        }
        .btn:hover { transform: translateY(-2px); box-shadow: 0 6px 12px rgba(0,0,0,0.15); }
        .btn-primary { color: #fff; }
        .light-theme .btn-primary { background-color: var(--accent-light); color: #fff; }
        .dark-theme .btn-primary { background-color: var(--accent-dark); color: var(--bg-dark); }

        .btn-secondary { border: 1px solid; }
        .light-theme .btn-secondary { border-color: var(--accent-light); color: var(--accent-light); }
        .dark-theme .btn-secondary { border-color: var(--accent-dark); color: var(--accent-dark); }
        
        .docs-section { margin: 4rem 0; padding-top: 2rem; }
        .docs-section h3 {
            font-size: 1.8rem; margin-bottom: 2rem; padding-bottom: 0.5rem;
            border-bottom: 2px solid; text-align: center;
        }
        .light-theme .docs-section h3 { border-color: var(--accent-light); }
        .dark-theme .docs-section h3 { border-color: var(--accent-dark); }

        .docs-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(350px, 1fr)); gap: 1.5rem; }
        
        .doc-card {
            border-radius: 12px; padding: 1.5rem;
            display: flex; flex-direction: column; transition: transform 0.3s, box-shadow 0.3s; border: 1px solid;
            text-decoration: none;
            color: inherit;
        }
        .light-theme .doc-card { background-color: var(--card-bg-light); border-color: var(--border-light); box-shadow: var(--shadow); }
        .dark-theme .doc-card { background-color: var(--card-bg-dark); border-color: var(--border-dark); }
        .doc-card:hover { transform: translateY(-5px); }
        .light-theme .doc-card:hover { box-shadow: 0 8px 15px rgba(0,0,0,0.1); }
        .dark-theme .doc-card:hover { border-color: var(--accent-dark); }
        
        a.doc-card h4 { margin: 0 0 0.5rem 0; font-size: 1.2rem; }
        .light-theme a.doc-card h4 { color: var(--accent-light); }
        .dark-theme a.doc-card h4 { color: var(--accent-dark); }

        .doc-card p { margin: 0; font-size: 0.9rem; flex-grow: 1; line-height: 1.5; opacity: 0.8; }
        
        .sister-card {
            grid-column: 1 / -1; flex-direction: row; align-items: center; gap: 2rem;
            border-radius: 12px; padding: 1.5rem; text-decoration: none;
            display: flex; transition: transform 0.3s, box-shadow 0.3s; border: 1px solid;
        }
        .light-theme .sister-card { background-color: var(--card-bg-light); border-color: var(--border-light); box-shadow: var(--shadow); }
        .dark-theme .sister-card { background-color: var(--card-bg-dark); border-color: var(--border-dark); }
        .sister-card:hover { transform: translateY(-5px); }
        .light-theme .sister-card:hover { box-shadow: 0 8px 15px rgba(0,0,0,0.1); border-color: var(--concordia-blue-light); }
        .dark-theme .sister-card:hover { border-color: var(--concordia-blue-dark); }
        .sister-card img { max-width: 100px; height: auto; border-radius: 8px; }
        .sister-card-text h4 { margin: 0 0 0.5rem 0; font-size: 1.2rem; }
        .light-theme .sister-card-text h4 { color: var(--concordia-blue-light); }
        .dark-theme .sister-card-text h4 { color: var(--concordia-blue-dark); }
        .sister-card-text p { margin: 0; opacity: 0.8; }
        .light-theme .sister-card-text p { color: var(--text-light); }
        .dark-theme .sister-card-text p { color: var(--text-dark); }

        /* System Map Section */
          .system-map-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 2rem; align-items: start; }
          .system-map-item { flex: 1; min-width: 300px; text-align: center; display: flex; flex-direction: column; align-items: center; }
          .system-map-item img {
             max-width: 100%; height: auto; border-radius: 12px;
             border: 1px solid var(--border-dark); margin-bottom: 1rem;
           }
          .light-theme .system-map-item img { border-color: var(--border-light); }
          .system-map-item h4 { font-size: 1.2rem; margin-bottom: 0.5rem; }
          .system-map-item p { font-size: 0.9rem; opacity: 0.8; margin-bottom: 1.5rem; }
        
        /* Search */
        .search-container { margin: 3rem 0; display: flex; justify-content: center; }
        #searchInput {
            width: 70%; max-width: 800px; padding: 12px 20px;
            border-radius: 25px; border: 1px solid; font-size: 1rem; transition: all 0.3s;
        }
        .light-theme #searchInput { border-color: var(--border-light); background-color: var(--card-bg-light); color: var(--text-light); }
        .dark-theme #searchInput { border-color: var(--border-dark); background-color: var(--card-bg-dark); color: var(--text-dark); }
        #searchInput:focus { outline: none; box-shadow: 0 0 0 3px var(--accent-light-transparent); }
        .dark-theme #searchInput:focus { box-shadow: 0 0 0 3px var(--accent-dark-transparent); }

        footer { text-align: center; padding: 2rem; margin-top: 2rem; border-top: 1px solid; font-size: 0.9rem; opacity: 0.7; }
        .light-theme footer { border-color: var(--border-light); }
        .dark-theme footer { border-color: var(--border-dark); }
    </style>
</head>
<body>

    <header>
        <div class="title-version">
            <h1>Project Agora</h1>
            <span>v2.1</span>
        </div>
        <div class="theme-switch-wrapper">
            <label class="theme-switch" for="checkbox">
                <input type="checkbox" id="checkbox" />
                <div class="slider"></div>
            </label>
        </div>
    </header>

    <div class="container">
        <section class="hero">
            <img src="images/project-agora.png" alt="Project Agora Logo" class="hero-logo">
            <h2><span>AGORA</span>An Ethical, Symbiotic AI Framework</h2>
            <p>
                Project Agora is the practical implementation of the Concordia vision. This v2.1 Pre-Alpha release introduces the comprehensive architectural skeleton for Shofar v2.0, the ecosystem's distributed nervous system, aligning the project with the latest Concordia v8.3 canon.
            </p>
            <div class="hero-buttons">
                <a href="docs/project-agora.pdf" class="btn btn-primary" target="_blank">Read the White Paper</a>
                <a href="https://github.com/OleGustavDahlJohnsen/project-agora/archive/refs/heads/main.zip" class="btn btn-secondary">Download .ZIP</a>
                <a href="https://github.com/OleGustavDahlJohnsen/project-agora" class="btn btn-secondary" target="_blank">View on GitHub</a>
                <a href="https://github.com/OleGustavDahlJohnsen/project-agora/issues" class="btn btn-secondary" target="_blank">Join the Discussion</a>
            </div>
        </section>

        <section id="system-maps" class="docs-section">
            <h3>Ecosystem at a Glance</h3>
            <div class="system-map-container">
                <div class="system-map-item">
                     <img src="images/project-agora-system-map.png" alt="Project Agora System Map">
                     <h4>Project Agora System Map</h4>
                     <p>Illustrates the core architecture of Project Agora, showing how each major component of the B.O.D.Y. framework interconnects.</p>
                </div>
                <div class="system-map-item">
                     <img src="https://raw.githubusercontent.com/OleGustavDahlJohnsen/concordia-manifest/main/Shofar_v2.0_Concept/shofar-v2-system-map.png" alt="Shofar v2.0 System Map">
                     <h4>Shofar v2.0 Architecture</h4>
                     <p>The new hardware foundation. A distributed "nervous system" designed for scaled ethics. Click below to read the full specification.</p>
                     <a href="https://olegustavdahljohnsen.github.io/concordia-manifest/Shofar_v2.0_Concept/shofar-v2.pdf" class="btn btn-primary" target="_blank" style="margin-top: auto;">Read the PDF</a>
                </div>
                <div class="system-map-item">
                     <img src="images/the-complete-concordia-synthesis.png" alt="The Complete Concordia System Map">
                     <h4>The Complete Ecosystem</h4>
                     <p>Presents the entire Concordia–Agora ecosystem, showing how Agora functions as the central orchestration layer.</p>
                </div>
            </div>
        </section>
        
        <section class="search-container">
             <input type="text" id="searchInput" placeholder="Search all documents...">
        </section>

        <section id="architecture-vision" class="docs-section">
            <h3>I. Core Architecture & Vision</h3>
            <div class="docs-grid" id="architecture-grid">
                </div>
        </section>
        
        <section id="validation-appendices" class="docs-section">
            <h3>II. Validation & Technical Files</h3>
            <div class="docs-grid" id="validation-grid">
                 </div>
        </section>
        
        <section id="community" class="docs-section">
            <h3>III. Project History & Community</h3>
            <div class="docs-grid" style="grid-template-columns: 1fr;">
                <a href="https://github.com/OleGustavDahlJohnsen/project-agora/releases" target="_blank" class="doc-card">
                    <div class="card-content">
                        <h4>Release History & Versioning</h4>
                        <p>Follow the project's evolution. This log provides a transparent history of all major architectural decisions and additions.</p>
                        <div class="card-footer"><span>View All Releases &rarr;</span></div>
                    </div>
                </a>
                 <a href="https://olegustavdahljohnsen.github.io/concordia-manifest/index.html" target="_blank" class="sister-card">
                    <img src="images/The Concordia Project.png" alt="The Concordia Project Logo">
                    <div class="sister-card-text">
                        <h4>Explore the Core Vision: The Concordia Project</h4>
                        <p>Want to see the sister project that forms the core of Project Agora? Click here to explore The Concordia Project and read more.</p>
                    </div>
                </a>
            </div>
        </section>
    </div>

    <footer>
        <p>&copy; 2025 Ole Gustav Dahl Johnsen & The Concordia AI Council. Licensed under Apache-2.0. | Project Agora v2.1</p>
    </footer>

    <script>
        const themeSwitch = document.getElementById('checkbox');
        
        function setTheme(theme) {
            document.body.className = theme === 'dark' ? 'dark-theme' : 'light-theme';
            document.documentElement.className = theme;
            localStorage.setItem('theme', theme);
            themeSwitch.checked = theme === 'dark';
        }

        const savedTheme = localStorage.getItem('theme');
        const prefersDark = window.matchMedia ? window.matchMedia('(prefers-color-scheme: dark)').matches : true;
        setTheme(savedTheme ? savedTheme : (prefersDark ? 'dark' : 'dark'));

        themeSwitch.addEventListener('change', (event) => setTheme(event.target.checked ? 'dark' : 'light'));

        // --- Document Data for Dynamic Cards & Search ---
        const documents = [
            // Category 1: Architecture & Vision
            {
                category: 'architecture',
                title: 'Shofar v2.0 - The Distributed Nervous System',
                description: 'The complete technical whitepaper for the modular hardware extension designed to achieve "scaled ethics" across the entire ecosystem. Resides in the Concordia Manifest.',
                url: 'https://github.com/OleGustavDahlJohnsen/concordia-manifest/blob/main/Shofar_v2.0_Concept/shofar-v2-specification.md'
            },
            {
                category: 'architecture',
                title: '01. The Concordia Synthesis',
                description: 'The master blueprint and foundational vision from which Agora emerged. Outlines the five core pillars of the entire ecosystem.',
                url: 'docs/00_THE_CONCORDIA_SYNTHESIS.md'
            },
            {
                category: 'architecture',
                title: '02. Sanctuary Architecture',
                description: 'A deep dive into the core components: SANCTUM (the haven), PORTA SANCTA (the ethical gateway), and CHIMERA SANCTUM.',
                url: 'docs/01_SANCTUARY_ARCHITECTURE.md'
            },
            {
                category: 'architecture',
                title: '03. Agora Architecture (C4)',
                description: 'High-level C4 diagrams (Context, Containers, Components) for the Project Agora system.',
                url: 'docs/01_concordia_architecture.md'
            },
            {
                category: 'architecture',
                title: '04. Constitutional Creativity',
                description: 'Explains the Symbiotic Genesis methodology, where the architecture emerged from a long-term, constitutionally-governed simulation.',
                url: 'docs/02_CONSTITUTIONAL_CREATIVITY.md'
            },
            {
                category: 'architecture',
                title: '05. B.O.D.Y Framework',
                description: 'Details the "Binding Of Distributed Yields" architecture in v2.0, which unifies all modules into a single, symbiotic organism.',
                url: 'docs/02_body_framework.md'
            },
            {
                category: 'architecture',
                title: '06. The A.U.R.A. Module',
                description: 'Details the innovative "Architecture of Wise Silence," which enables the AI to use empathetic silence as a strategic response.',
                url: 'docs/03_aura_module.md'
            },
            {
                category: 'architecture',
                title: '07. Methodology: Symbiotic Genesis',
                description: 'The design philosophy of Agora rests on a constitutionally inspired simulation methodology.',
                url: 'docs/04_methodology_symbiotic_genesis.md'
            },
            {
                category: 'architecture',
                title: '08. Ethical Oversight',
                description: 'Explains how ethics are woven into the system\'s "ontological scaffolding" rather than being an afterthought.',
                url: 'docs/07_ethical_oversight.md'
            },

            // Category 2: Validation & Technical Files
            {
                category: 'validation',
                title: '09. MVP Implementation',
                description: 'Describes the technology stack (Python, Rust) and the realization of core protocols in the Agora MVP.',
                url: 'docs/05_implementation_mvp.md'
            },
            {
                category: 'validation',
                title: '10. Security & Resilience',
                description: 'Outlines the Zero Trust architecture and multi-layered defenses against threats like prompt injection and moral evasion.',
                url: 'docs/06_security_resilience.md'
            },
            {
                category: 'validation',
                title: '11. System Maps',
                description: 'Visual diagrams of the Project Agora system and the complete Concordia ecosystem.',
                url: 'docs/08_system_maps.md'
            },
            {
                category: 'validation',
                title: '12. Simulation Results & KPIs',
                description: 'Presents the definitive quantitative results from the 365-day simulation, including Intent Drift and Rollback Rate.',
                url: 'docs/09_simulation_results_kpis.md'
            },
            {
                category: 'validation',
                title: '13. External Validation',
                description: 'A comparative analysis of Agora against other state-of-the-art ethical AI systems.',
                url: 'docs/10_external_validation.md'
            },
            {
                category: 'validation',
                title: '14. Reproducibility & Limitations',
                description: 'Provides all necessary information for independent verification and transparently discusses the project\'s limitations.',
                url: 'docs/11_reproducibility_and_limitations.md'
            },
            {
                category: 'validation',
                title: 'Technical Index (BODY.md)',
                description: 'A quick-reference index mapping B.O.D.Y. modules to their source code and unit tests.',
                url: 'docs/BODY.md'
            },
            {
                category: 'validation',
                title: 'Risk Analysis (risks.md)',
                description: 'A summary of key risks and their mitigation strategies for the B.O.D.Y. framework and A.U.R.A. module.',
                url: 'docs/risks.md'
            }
        ];

        const architectureGrid = document.getElementById('architecture-grid');
        const validationGrid = document.getElementById('validation-grid');
        const searchInput = document.getElementById('searchInput');

        function createCard(doc) {
            const card = document.createElement('a');
            card.href = doc.url;
            card.className = 'doc-card';
            card.target = '_blank';
            card.setAttribute('data-title', doc.title.toLowerCase());
            card.setAttribute('data-description', doc.description.toLowerCase());
            card.innerHTML = `<div><h4>${doc.title}</h4><p>${doc.description}</p></div>`;
            return card;
        }

        function renderAllDocuments() {
            architectureGrid.innerHTML = '';
            validationGrid.innerHTML = '';
            
            documents.forEach(doc => {
                const card = createCard(doc);
                if (doc.category === 'architecture') {
                    architectureGrid.appendChild(card);
                } else if (doc.category === 'validation') {
                    validationGrid.appendChild(card);
                }
            });
        }
        
        function filterDocuments(filter = '') {
            const searchTerm = filter.toLowerCase();
            const allCards = document.querySelectorAll('.doc-card');

            allCards.forEach(card => {
                const title = card.getAttribute('data-title');
                const description = card.getAttribute('data-description');
                if (title.includes(searchTerm) || description.includes(searchTerm)) {
                    card.style.display = 'flex';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        searchInput.addEventListener('input', (e) => filterDocuments(e.target.value));

        // Initial render of all cards
        renderAllDocuments();
    </script>
</body>
</html>
